<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>kafka-connect-marklogic Properties</title>
    </head>
    <body>
        <h1>Configurable Properties for the kafka-connect-marklogic</h1>

        <table border="1">
            <caption><b>marklogic-connect-standalone</b> - This file contains properties that are Kafka-related.</caption>
            <thead>
                <tr><th>Property</th><th>Default Value</th><th>Description</th></tr>
            </thead>
            <tbody>
                <tr><td>bootstrap.servers</td><td>9092</td><td>This points to the Kafka server and port</td></tr>
                <tr><td>key.converter</td><td>org.apache.kafka.connect.storage.StringConverter</td><td>This controls the format of the data that will be written to Kafka for source connectors or read from Kafka for sink connectors.</td></tr>
                <tr><td>value.converter</td><td>org.apache.kafka.connect.storage.StringConverter</td><td>This controls the format of the data that will be written to Kafka for source connectors or read from Kafka for sink connectors.</td></tr>
                <tr><td>key.converter.schemas.enable</td><td>false</td><td>Control the use of schemas for keys</td></tr>
                <tr><td>value.converter.schemas.enable</td><td>false</td><td>Control the use of schemas for values</td></tr>
                <tr><td>offset.storage.file.filename</td><td>/tmp/connect.offsets</td><td>The file to store connector offsets in. By storing offsets on disk, a standalone process can be stopped and started on a single node and resume where it previously left off.</td></tr>
                <tr><td>offset.flush.interval.ms</td><td>10000</td><td>Interval at which to try committing offsets for tasks.</td></tr>
            </tbody>
        </table>
        <p></p>
        <table border="1">
            <caption><b>marklogic-sink</b> - This file contains properties that are MarkLogic-related.</caption>
            <thead>
                <tr><th>Property</th><th>Default Value</th><th>Description</th></tr>
            </thead>
            <tbody>
                <tr><td>name</td><td>marklogic-sink</td><td>The name of the connector</td></tr>
                <tr><td>connector.class</td><td>om.marklogic.kafka.connect.sink.MarkLogicSinkConnector</td><td>The FQ name of the connector class</td></tr>
                <tr><td>tasks.max</td><td>1</td><td>The maximum number of concurrent tasks</td></tr>
                <tr><td>topics</td><td>marklogic</td><td>The name of the topic(s) to subscribe to</td></tr>
                <tr><td>ml.connection.host</td><td>localhost</td><td>A MarkLogic host to connect to. The connector uses the Data Movement SDK, and thus it will connect to each of the hosts in a cluster.</td></tr>
                <tr><td>ml.connection.port</td><td>8000</td><td>The port of a REST API server to connect to.</td></tr>
                <tr><td>ml.connection.database</td><td>Documents</td><td>Optional - the name of a database to connect to. If your REST API server has a content database matching that of the one that you want to write documents to, you do not need to set this.</td></tr>
                <tr><td>ml.connection.type</td><td></td><td>Optional - set to "gateway" when using a load balancer, else leave blank. See https://docs.marklogic.com/guide/java/data-movement#id_26583 for more information.</td></tr>
                <tr><td>ml.connection.securityContextType</td><td>DIGEST</td><td>Either DIGEST, BASIC, CERTIFICATE, KERBEROS, or NONE</td></tr>
                <tr><td>ml.connection.username</td><td>admin</td><td>MarkLogic username</td></tr>
                <tr><td>ml.connection.password</td><td>admin</td><td>MarkLogic password</td></tr>
                <tr><td>ml.connection.certFile</td><td></td><td>Certificate file for Certificate based authentication</td></tr>
                <tr><td>ml.connection.certPassword</td><td></td><td>Certificate password for Certificate based authentication</td></tr>
                <tr><td>ml.connection.externalName</td><td></td><td>The external name to use to connect to MarkLogic</td></tr>
                <tr><td>ml.connection.simpleSsl</td><td>false</td><td>Set to "true" for a "simple" SSL strategy that uses the JVM's default SslContext and X509TrustManager and a "trust everything" HostnameVerifier. Further customization of an SSL connection via properties is not supported. If you need to do so, consider using the source code for this connector as a starting point.</td></tr>
                <tr><td>ml.dmsdk.batchSize</td><td>100</td><td>Sets the number of documents to be written in a batch to MarkLogic. This may not have any impact depending on the connector receives data from Kafka, as the connector calls flushAsync on the DMSDK WriteBatcher after processing every collection of records. Thus, if the connector never receives at one time more than the value of this property, then the value of this property will have no impact.</td></tr>
                <tr><td>ml.dmsdk.threadCount</td><td>8</td><td>Sets the number of threads used by the Data Movement SDK for parallelizing writes to MarkLogic. Similar to the batch size property above, this may never come into play depending on how many records the connector receives at once.</td></tr>
                <tr><td>ml.document.collections/td><td>kafka-data</td><td>Optional - a comma-separated list of collections that each document should be written to</td></tr>
                <tr><td>ml.document.format/td><td>JSON</td><td>Optional - specify the format of each document; either JSON, XML, BINARY, TEXT, or UNKNOWN</td></tr>
                <tr><td>ml.document.mimeType/td><td></td><td>Optional - specify a mime type for each document; typically the format property above will be used instead of this</td></tr>
                <tr><td>ml.document.permissions/td><td>rest-reader,read,rest-writer,update</td><td>Optional - a comma-separated list of roles and capabilities that define the permissions for each document written to MarkLogic</td></tr>
                <tr><td>ml.document.uriPrefix/td><td>/kafka-data/</td><td>Optional - a prefix to prepend to each URI; the URI itself is a UUID</td></tr>
                <tr><td>ml.document.uriSuffix/td><td>.json</td><td>Optional - a suffix to append to each URI</td></tr>
            </tbody>
        </table>
    </body>
</html>
